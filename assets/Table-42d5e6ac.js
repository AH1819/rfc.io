import{_ as v,n as V,b as i,c as C,d as y,e as l,f as o,g as r,x as U,y as g}from"./index-6851d414.js";const D=V({data(){return{productDialog:!1,datos:[],cns:1,nombreProd:"",subtotal:0,iva:0,total:0,cantidad:"",preciosU:"",mensaje:"Tienes campos vacios",selectedProduct:null}},methods:{RegistrarV(){if(this.nombreProd===""||this.cantidad===""||this.preciosU==="")alert(this.mensaje);else{const e={CNS:this.cns++,nombre:this.nombreProd,cantidad:this.cantidad,precio:this.preciosU,preciosP:this.preciosU*this.cantidad};this.datos.push(e),this.nombreProd="",this.cantidad="",this.preciosU="",this.sumarCantidad()}},sumarCantidad(){let e=0;for(let c=0;c<this.datos.length;c++){const m=this.datos[c];e+=m.preciosP}const t=e*.16,p=e+t;this.subtotal=e,this.iva=t,this.total=p},editProduct(e){this.selectedProduct=e,this.productDialog=!0,this.selectedProduct.preciosP=this.selectedProduct.precio*this.selectedProduct.cantidad},confirmDeleteProduct(e){const t=this.datos.indexOf(e);t>=0&&(this.datos.splice(t,1),this.sumarCantidad())},saveProduct(){for(let e=0;e<this.datos.length;e++)this.datos[e].CNS===this.selectedProduct.CNS&&(this.datos[e].nombre=this.selectedProduct.nombre,this.datos[e].cantidad=this.selectedProduct.cantidad,this.datos[e].precio=this.selectedProduct.precio,this.datos[e].preciosP=this.selectedProduct.precio*this.selectedProduct.cantidad);this.sumarCantidad(),this.productDialog=!1}}}),s=e=>(U("data-v-f8697fc9"),e=e(),g(),e),N={class:"grid"},k={class:"col-12"},w={class:"card"},S=s(()=>l("h5",null,"Punto de Venta (POS)",-1)),I={class:"card"},T={class:"flex justify-content-between flex-column sm:flex-row"},$={class:"p-float-label"},B=s(()=>l("label",{for:"Producto"},"Nombre del Producto:",-1)),j={class:"p-float-label"},O=s(()=>l("label",{for:"Cantidad"},"Cantidad",-1)),R={class:"p-float-label"},A=s(()=>l("label",{for:"Precio"},"$ Precio U.",-1)),F=s(()=>l("br",null,null,-1)),E={class:"card"},G=s(()=>l("label",{for:"apepat"},"Subtotal:",-1)),q=s(()=>l("label",{for:"apepat"},"IVA (16%):",-1)),z=s(()=>l("label",{for:"apepat"},"Total:",-1)),H={class:"field"},J=s(()=>l("label",{for:"name"},"Nombre del Producto",-1)),K={class:"field"},L=s(()=>l("label",{for:"cantidad"},"Cantidad",-1)),M={class:"field"},Q=s(()=>l("label",{for:"preciosU"},"Precios U.",-1));function W(e,t,p,c,m,X){const a=i("InputText"),u=i("Button"),h=i("di"),n=i("Column"),b=i("DataTable"),f=i("InputNumber"),P=i("Dialog");return C(),y("div",N,[l("div",k,[l("div",w,[S,o(h,{class:"col-12"},{default:r(()=>[l("div",I,[l("div",T,[l("span",$,[o(a,{id:"Producto",modelValue:e.nombreProd,"onUpdate:modelValue":t[0]||(t[0]=d=>e.nombreProd=d),type:"text"},null,8,["modelValue"]),B]),l("span",j,[o(a,{id:"Cantidad",type:"text",modelValue:e.cantidad,"onUpdate:modelValue":t[1]||(t[1]=d=>e.cantidad=d)},null,8,["modelValue"]),O]),l("span",R,[o(a,{id:"Precio",type:"text",modelValue:e.preciosU,"onUpdate:modelValue":t[2]||(t[2]=d=>e.preciosU=d)},null,8,["modelValue"]),A]),F,o(u,{type:"button",icon:"pi pi-plus",label:"Registrar",severity:"success",onClick:e.RegistrarV},null,8,["onClick"])])])]),_:1}),o(b,{value:e.datos,showGridlines:"",paginator:"",rows:5,rowsPerPageOptions:[5,10,20,50],tableStyle:"min-width: 50rem"},{default:r(()=>[o(n,{field:"CNS",header:"Cns",sortable:"",style:{width:"20%"}}),o(n,{field:"nombre",header:"Nombre del Producto"}),o(n,{field:"precio",header:"Precio U."}),o(n,{field:"cantidad",header:"Cantidad"}),o(n,{field:"preciosP",header:"Precio P."}),o(n,{header:"Acciones",exportable:!1,style:{"min-width":"8rem"}},{body:r(d=>[o(u,{icon:"pi pi-pencil",outlined:"",rounded:"",class:"mr-2",onClick:_=>e.editProduct(d.data)},null,8,["onClick"]),o(u,{icon:"pi pi-trash",outlined:"",rounded:"",severity:"danger",onClick:_=>e.confirmDeleteProduct(d.data)},null,8,["onClick"])]),_:1})]),_:1},8,["value"]),o(h,{class:"col-12"},{default:r(()=>[l("div",E,[G,o(a,{id:"subtotal1",type:"text",modelValue:e.subtotal,"onUpdate:modelValue":t[3]||(t[3]=d=>e.subtotal=d),readonly:""},null,8,["modelValue"]),q,o(a,{id:"iva1",type:"text",modelValue:e.iva,"onUpdate:modelValue":t[4]||(t[4]=d=>e.iva=d),readonly:""},null,8,["modelValue"]),z,o(a,{id:"total1",type:"text",modelValue:e.total,"onUpdate:modelValue":t[5]||(t[5]=d=>e.total=d),readonly:""},null,8,["modelValue"])])]),_:1}),o(P,{visible:e.productDialog,"onUpdate:visible":t[9]||(t[9]=d=>e.productDialog=d),style:{width:"450px"},header:"Detalles del Producto",modal:!0,class:"p-fluid"},{footer:r(()=>[o(u,{label:"Save",icon:"pi pi-check",text:"",onClick:e.saveProduct},null,8,["onClick"])]),default:r(()=>[l("div",H,[J,o(a,{modelValue:e.selectedProduct.nombre,"onUpdate:modelValue":t[6]||(t[6]=d=>e.selectedProduct.nombre=d),type:"text",placeholder:"Nombre del Producto..."},null,8,["modelValue"])]),l("div",K,[L,o(f,{modelValue:e.selectedProduct.cantidad,"onUpdate:modelValue":t[7]||(t[7]=d=>e.selectedProduct.cantidad=d),placeholder:"Cantidad"},null,8,["modelValue"])]),l("div",M,[Q,o(f,{modelValue:e.selectedProduct.precio,"onUpdate:modelValue":t[8]||(t[8]=d=>e.selectedProduct.precio=d),placeholder:"$ Precio U.",minFractionDigits:2,maxFractionDigits:5},null,8,["modelValue"])])]),_:1},8,["visible"])])])])}const Z=v(D,[["render",W],["__scopeId","data-v-f8697fc9"]]);export{Z as default};
